<%
  environment ||= nil
  full_width ||= false
  navigation_aria_label ||= "Top level"
  navigation_items ||= []
  product_name ||= nil
  remove_bottom_border ||= false
  search ||= false
  search_left ||= false
  width_class = full_width ? "govuk-header__container--full-width" : "govuk-width-container"

  header_classes = %w[gem-c-layout-header govuk-header]
  header_classes << "gem-c-layout-header--#{environment}" if environment
  header_classes << "gem-c-layout-header--no-bottom-border" if remove_bottom_border
  header_classes << "gem-c-layout-header--search-left" if search_left
%>

<header class="<%= header_classes.join(' ') %>"  role="banner" data-module="govuk-header">
  <div class="govuk-header__container <%= width_class %>">
    <% if search_left %>
      <div class="govuk-grid-row">
        <div class="gem-c-layout-header__logo govuk-grid-column-one-third-from-desktop">
          <%= render "govuk_publishing_components/components/layout_header/header_logo", environment: environment, product_name: product_name %>
        </div>
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full govuk-grid-column-one-third-from-desktop gem-c-layout-header__search">
          <%= render "govuk_publishing_components/components/layout_header/search" %>
        </div>
        <% if navigation_items.any? %>
          <div class="govuk-header__content gem-c-header__content govuk-grid-column-full">
            <%= render "govuk_publishing_components/components/layout_header/navigation_items", navigation_items: navigation_items, navigation_aria_label: navigation_aria_label  %>
          </div>
        <% end %>
      </div>
    <% else %>
      <div class="govuk-grid-row">
        <div class="gem-c-layout-header__logo govuk-grid-column-two-thirds">
          <%= render "govuk_publishing_components/components/layout_header/header_logo", environment: environment, product_name: product_name %>
        </div>
        <% if navigation_items.any? %>
          <div class="govuk-header__content gem-c-header__content govuk-grid-column-full">
            <%= render "govuk_publishing_components/components/layout_header/navigation_items", navigation_items: navigation_items, navigation_aria_label: navigation_aria_label %>
          </div>
        <% end %>
        <% if search %>
          <div class="govuk-grid-column-one-third gem-c-layout-header__search">
            <%= render "govuk_publishing_components/components/layout_header/search" %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</header>
